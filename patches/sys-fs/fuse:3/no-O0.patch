--- a/meson.build
+++ b/meson.build
@@ -82,7 +82,7 @@
     (void) get_4();
     return 0;
 }'''
-if not cc.compiles(code, args: [ '-O0', '-Werror=unused-result' ])
+if not cc.compiles(code, args: [ '-Werror=unused-result' ])
      message('Compiler warns about unused result even when casting to void')
      add_project_arguments('-Wno-unused-result', language: 'c')
 endif
@@ -106,7 +106,7 @@ code = '''
 int main(void) {
     return 0;
 }'''
-if cc.compiles(code, args: [ '-O0', '-c'])
+if cc.compiles(code, args: ['-c'])
      message('Compiler supports symver attribute')
      add_project_arguments('-DHAVE_SYMVER_ATTRIBUTE', language: 'c')
 else
